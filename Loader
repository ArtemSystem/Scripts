local RunService = game:GetService("RunService")

local url = "https://raw.githubusercontent.com/ArtemSystem/lib/refs/heads/main/Banned?t="..tostring(tick())
local bannedPlayers = loadstring(game:HttpGet(url))()

local placeScriptsUrl = "https://raw.githubusercontent.com/ArtemSystem/lib/refs/heads/main/Place?t="..tostring(tick())
local placeScripts = loadstring(game:HttpGet(placeScriptsUrl))()

local player = game.Players.LocalPlayer

local function createGUI(messageLines, buttonText, onClick)
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Parent = game.CoreGui

    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(0, 400, 0, 250)
    Frame.Position = UDim2.new(0.5, -200, 0.55, -200)
    Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Frame.Active = true
    Frame.Draggable = true
    Frame.Parent = ScreenGui

    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 10)
    UICorner.Parent = Frame

    local rainbowLabels = {}

    for _, data in ipairs(messageLines) do
        local Message = Instance.new("TextLabel")
        Message.Size = data.SizeUDim2 or UDim2.new(1, -20, 0, 40)
        Message.Position = data.Position or UDim2.new(0, 10, 0.25, -10)
        Message.BackgroundTransparency = 1
        Message.Text = data.Text or ""
        Message.TextColor3 = data.Color or Color3.fromRGB(255, 255, 255)
        Message.Font = data.Font or Enum.Font.JosefinSans
        Message.TextSize = data.TextSize or 20
        Message.TextWrapped = true
        Message.TextXAlignment = data.AlignX or Enum.TextXAlignment.Center
        Message.TextYAlignment = data.AlignY or Enum.TextYAlignment.Center
        Message.Parent = Frame

        if data.Rainbow then
            local gradient = Instance.new("UIGradient")
            gradient.Rotation = 0
            gradient.Parent = Message
            table.insert(rainbowLabels, {label = Message, gradient = gradient})
        end
    end

    local Button = Instance.new("TextButton")
    Button.Size = UDim2.new(0, 150, 0, 40)
    Button.Position = UDim2.new(0.5, -75, 0.8, -10)
    Button.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.TextSize = 15
    Button.Font = Enum.Font.JosefinSans
    Button.Text = buttonText
    Button.Parent = Frame

    local ButtonStroke = Instance.new("UIStroke")
    ButtonStroke.Thickness = 1
    ButtonStroke.Color = Color3.fromRGB(70, 70, 70)
    ButtonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    ButtonStroke.Parent = Button

    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 8)
    ButtonCorner.Parent = Button

    local normalColor = Color3.fromRGB(35, 35, 35)
    local hoverColor = Color3.fromRGB(60, 60, 60)

    Button.MouseEnter:Connect(function()
        Button.BackgroundColor3 = hoverColor
    end)

    Button.MouseLeave:Connect(function()
        Button.BackgroundColor3 = normalColor
    end)

    Button.MouseButton1Click:Connect(function()
        ScreenGui:Destroy()
        if onClick then onClick() end
    end)

    local RainbowSpeed = 2
    local t = 0
    local colors = {
        Color3.fromRGB(255,0,0),
        Color3.fromRGB(255,127,0),
        Color3.fromRGB(255,255,0),
        Color3.fromRGB(0,255,0),
        Color3.fromRGB(0,0,255),
        Color3.fromRGB(75,0,130),
        Color3.fromRGB(148,0,211)
    }

    if #rainbowLabels > 0 then
        RunService.RenderStepped:Connect(function(dt)
            t = t + dt * RainbowSpeed
            local n = #colors
            local newColors = {}

            for i = 1, n do
                local index = ((i - 1 - t) % n) + 1
                local low = math.floor(index)
                local high = (low % n) + 1
                local frac = index - low
                local color = colors[low]:Lerp(colors[high], frac)
                table.insert(newColors, color)
            end

            for _, entry in ipairs(rainbowLabels) do
                entry.gradient.Color = ColorSequence.new{
                    ColorSequenceKeypoint.new(0,   newColors[1]),
                    ColorSequenceKeypoint.new(0.16,newColors[2]),
                    ColorSequenceKeypoint.new(0.33,newColors[3]),
                    ColorSequenceKeypoint.new(0.5, newColors[4]),
                    ColorSequenceKeypoint.new(0.66,newColors[5]),
                    ColorSequenceKeypoint.new(0.83,newColors[6]),
                    ColorSequenceKeypoint.new(1,   newColors[7])
                }
            end
        end)
    end
end

if bannedPlayers[player.UserId] then
    createGUI({
        {
            Text = "You are banned in this script.",
            TextSize = 22,
            Color = Color3.fromRGB(255, 70, 70),
            SizeUDim2 = UDim2.new(1, -20, 0, 50),
            Position = UDim2.new(0, 10, 0.35, -20),
            Font = Enum.Font.JosefinSans
        }
    }, "OK", function()
        script:Destroy()
    end)
    return
end

local gameInfo = placeScripts[game.PlaceId]

if gameInfo then
    createGUI({
        {
            Text = "Script found!",
            TextSize = 35,
            Rainbow = true,
            SizeUDim2 = UDim2.new(1, -20, 0, 50),
            Position = UDim2.new(0, 10, 0.25, -20),
            Font = Enum.Font.JosefinSans
        },
        {
            Text = "Game: " .. gameInfo.Name,
            TextSize = 30,
            Color = Color3.fromRGB(255,255,255),
            SizeUDim2 = UDim2.new(1, -20, 0, 50),
            Position = UDim2.new(0, 10, 0.25, 35),
            Font = Enum.Font.JosefinSans
        },
        {
            Text = "Version: " .. gameInfo.Version,
            TextSize = 20,
            Color = Color3.fromRGB(130, 130, 130),
            SizeUDim2 = UDim2.new(1, -20, 0, 30),
            Position = UDim2.new(0, 10, 0.45, 30),
            Font = Enum.Font.Cartoon
        }
    }, "Load", function()
        loadstring(gameInfo.Script)()
    end)
else
    createGUI({
        {
            Text = "The script is not intended for this game.",
            TextSize = 22,
            Color = Color3.fromRGB(200,200,200),
            SizeUDim2 = UDim2.new(1, -20, 0, 50),
            Position = UDim2.new(0, 10, 0.35, -20),
            Font = Enum.Font.JosefinSans
        }
    }, "OK", function()
        script:Destroy()
    end)
end
